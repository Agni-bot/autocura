<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema AutoCura - Dashboard Fase Alpha</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            min-height: 100vh;
        }
        
        .header {
            background: rgba(0,0,0,0.2);
            padding: 20px;
            text-align: center;
            border-bottom: 2px solid rgba(255,255,255,0.1);
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        
        .header .subtitle {
            font-size: 1.2em;
            opacity: 0.8;
        }
        
        .status-bar {
            display: flex;
            justify-content: space-around;
            padding: 20px;
            background: rgba(0,0,0,0.1);
        }
        
        .status-item {
            text-align: center;
            padding: 15px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            min-width: 150px;
        }
        
        .status-item.healthy {
            border-left: 5px solid #4CAF50;
        }
        
        .status-item.warning {
            border-left: 5px solid #FF9800;
        }
        
        .status-item.error {
            border-left: 5px solid #F44336;
        }
        
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            padding: 20px;
        }
        
        .card {
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .card h3 {
            margin-bottom: 15px;
            color: #FFD700;
            border-bottom: 2px solid rgba(255,215,0,0.3);
            padding-bottom: 10px;
        }
        
        .metric {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 10px 0;
            padding: 10px;
            background: rgba(0,0,0,0.2);
            border-radius: 8px;
        }
        
        .metric-value {
            font-weight: bold;
            font-size: 1.2em;
        }
        
        .progress-bar {
            width: 100%;
            height: 20px;
            background: rgba(0,0,0,0.3);
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50, #8BC34A);
            transition: width 0.5s ease;
        }
        
        .progress-fill.warning {
            background: linear-gradient(90deg, #FF9800, #FFC107);
        }
        
        .progress-fill.danger {
            background: linear-gradient(90deg, #F44336, #FF5722);
        }
        
        .log-entry {
            padding: 8px;
            margin: 5px 0;
            background: rgba(0,0,0,0.2);
            border-radius: 5px;
            font-size: 0.9em;
            border-left: 3px solid #2196F3;
        }
        
        .log-entry.warning {
            border-left-color: #FF9800;
        }
        
        .log-entry.error {
            border-left-color: #F44336;
        }
        
        .refresh-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #4CAF50;
            color: white;
            border: none;
            padding: 15px 20px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 16px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
        }
        
        .refresh-btn:hover {
            background: #45a049;
            transform: translateY(-2px);
        }
        
        .auto-refresh {
            color: #4CAF50;
            font-size: 0.9em;
            margin-left: 10px;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        
        .loading {
            animation: pulse 1.5s infinite;
        }
        
        /* Estilos para navega√ß√£o interativa */
        .nav-button {
            background: rgba(255,255,255,0.1);
            border: 2px solid rgba(255,255,255,0.3);
            color: white;
            padding: 10px 15px;
            margin: 5px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9em;
            display: inline-block;
        }
        
        .nav-button:hover {
            background: rgba(255,255,255,0.2);
            border-color: #4CAF50;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }
        
        .nav-button.active {
            background: #4CAF50;
            border-color: #4CAF50;
        }
        
        .module-section {
            display: none;
        }
        
        .module-section.active {
            display: block;
        }
        
        .card.clickable {
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .card.clickable:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
            border-color: #4CAF50;
        }
        
        .status-item.clickable {
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .status-item.clickable:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.3);
        }
        
        .navigation-bar {
            background: rgba(0,0,0,0.2);
            padding: 15px 20px;
            text-align: center;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        .module-header {
            text-align: center;
            margin: 20px 0;
            padding: 20px;
            background: rgba(255,255,255,0.05);
            border-radius: 10px;
        }
        
        .module-header h2 {
            color: #FFD700;
            margin: 0;
            font-size: 2em;
        }
        
        .module-header p {
            color: rgba(255,255,255,0.8);
            margin: 10px 0 0 0;
        }
        
        .action-buttons {
            text-align: center;
            margin: 20px 0;
        }
        
        .action-btn {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 12px 24px;
            margin: 0 10px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        
        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }
        
        .action-btn.secondary {
            background: linear-gradient(45deg, #2196F3, #1976D2);
        }
        
        .action-btn.warning {
            background: linear-gradient(45deg, #FF9800, #F57C00);
        }
        
        /* Estilos para Interface de Aprova√ß√£o Manual */
        .suggestion-card {
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            transition: all 0.3s ease;
        }
        
        .suggestion-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
            border-color: #4CAF50;
        }
        
        .suggestion-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        .suggestion-type {
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9em;
        }
        
        .suggestion-type.performance {
            background: linear-gradient(45deg, #4CAF50, #8BC34A);
            color: white;
        }
        
        .suggestion-type.bugfix {
            background: linear-gradient(45deg, #FF9800, #FFC107);
            color: white;
        }
        
        .suggestion-type.feature {
            background: linear-gradient(45deg, #2196F3, #03A9F4);
            color: white;
        }
        
        .suggestion-type.security {
            background: linear-gradient(45deg, #F44336, #E91E63);
            color: white;
        }
        
        .suggestion-priority {
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.8em;
            font-weight: bold;
        }
        
        .suggestion-priority.critical {
            background: #F44336;
            color: white;
            animation: pulse 1.5s infinite;
        }
        
        .suggestion-priority.high {
            background: #FF9800;
            color: white;
        }
        
        .suggestion-priority.medium {
            background: #2196F3;
            color: white;
        }
        
        .suggestion-priority.low {
            background: #4CAF50;
            color: white;
        }
        
        .suggestion-content h4 {
            color: #FFD700;
            margin-bottom: 15px;
            font-size: 1.1em;
        }
        
        .suggestion-description {
            margin-bottom: 20px;
            line-height: 1.6;
        }
        
        .suggestion-description p {
            margin: 10px 0;
        }
        
        .suggestion-description strong {
            color: #FFD700;
        }
        
        .suggestion-metrics {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin: 20px 0;
            padding: 15px;
            background: rgba(0,0,0,0.2);
            border-radius: 10px;
        }
        
        .metric-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            min-width: 120px;
        }
        
        .metric-label {
            font-size: 0.8em;
            color: rgba(255,255,255,0.7);
            margin-bottom: 5px;
        }
        
        .metric-value {
            font-weight: bold;
            font-size: 1em;
        }
        
        .metric-value.positive {
            color: #4CAF50;
        }
        
        .metric-value.high {
            color: #4CAF50;
        }
        
        .metric-value.medium {
            color: #FF9800;
        }
        
        .metric-value.low {
            color: #F44336;
        }
        
        .metric-value.critical {
            color: #F44336;
            animation: pulse 1.5s infinite;
        }
        
        .suggestion-actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 20px;
        }
        
        .suggestion-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: bold;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .suggestion-btn.apply {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
        }
        
        .suggestion-btn.apply.urgent {
            background: linear-gradient(45deg, #F44336, #D32F2F);
            animation: pulse 2s infinite;
        }
        
        .suggestion-btn.preview {
            background: linear-gradient(45deg, #2196F3, #1976D2);
            color: white;
        }
        
        .suggestion-btn.reject {
            background: linear-gradient(45deg, #757575, #424242);
            color: white;
        }
        
        .suggestion-btn.schedule {
            background: linear-gradient(45deg, #FF9800, #F57C00);
            color: white;
        }
        
        .suggestion-btn.later {
            background: linear-gradient(45deg, #9C27B0, #7B1FA2);
            color: white;
        }
        
        .suggestion-btn.escalate {
            background: linear-gradient(45deg, #E91E63, #C2185B);
            color: white;
        }
        
        .suggestion-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }
        
        .approval-status-panel {
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 20px;
            margin-top: 30px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .approval-status-panel h3 {
            color: #FFD700;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .approval-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
        }
        
        .stat-item {
            text-align: center;
            padding: 15px;
            background: rgba(0,0,0,0.2);
            border-radius: 10px;
        }
        
        .stat-label {
            display: block;
            font-size: 0.9em;
            color: rgba(255,255,255,0.7);
            margin-bottom: 5px;
        }
        
        .stat-value {
            display: block;
            font-size: 1.5em;
            font-weight: bold;
            color: #4CAF50;
        }
        
        /* Anima√ß√µes especiais */
        @keyframes suggestionAlert {
            0% { border-color: rgba(255,255,255,0.2); }
            50% { border-color: #FFD700; }
            100% { border-color: rgba(255,255,255,0.2); }
        }
        
        .suggestion-card.new {
            animation: suggestionAlert 2s infinite;
        }
        
        .suggestion-card.applying {
            opacity: 0.7;
            pointer-events: none;
        }
        
        .suggestion-card.applied {
            background: linear-gradient(45deg, rgba(76, 175, 80, 0.1), rgba(139, 195, 74, 0.1));
            border-color: #4CAF50;
        }
        
        .suggestion-card.rejected {
            background: linear-gradient(45deg, rgba(117, 117, 117, 0.1), rgba(66, 66, 66, 0.1));
            border-color: #757575;
            opacity: 0.6;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ü§ñ Sistema AutoCura</h1>
        <div class="subtitle">Dashboard da Fase Alpha - Monitoramento em Tempo Real</div>
    </div>
    
    <!-- Barra de Navega√ß√£o -->
    <div class="navigation-bar">
        <button class="nav-button active" onclick="showModule('overview')">üìä Vis√£o Geral</button>
        <button class="nav-button" onclick="showModule('metrics')">üìà M√©tricas</button>
        <button class="nav-button" onclick="showModule('ia')">üß† IA Evolutiva</button>
        <button class="nav-button" onclick="showModule('approvals')">ü§ñ Aprova√ß√µes</button>
        <button class="nav-button" onclick="showModule('observability')">üîç Observabilidade</button>
        <button class="nav-button" onclick="showModule('security')">üõ°Ô∏è Seguran√ßa</button>
        <button class="nav-button" onclick="showModule('logs')">üìù Logs</button>
        <button class="nav-button" onclick="showModule('monitoring')">üî¨ Monitoramento Avan√ßado</button>
    </div>
    
    <div class="status-bar">
        <div class="status-item healthy clickable" id="api-status" onclick="showModule('metrics')">
            <h4>API Status</h4>
            <div id="api-status-text">Carregando...</div>
        </div>
        <div class="status-item healthy clickable" id="system-health" onclick="showModule('security')">
            <h4>Sa√∫de do Sistema</h4>
            <div id="system-health-text">Carregando...</div>
        </div>
        <div class="status-item healthy clickable" id="modules-status" onclick="showModule('observability')">
            <h4>M√≥dulos Ativos</h4>
            <div id="modules-count">Carregando...</div>
        </div>
        <div class="status-item healthy clickable" id="evolution-status" onclick="showModule('ia')">
            <h4>N√≠vel Evolutivo</h4>
            <div id="evolution-level">Carregando...</div>
        </div>
    </div>
    
    <!-- Se√ß√£o: Vis√£o Geral -->
    <div id="overview-section" class="module-section active">
        <div class="dashboard">
            <div class="card clickable" onclick="showModule('metrics')">
                <h3>üìä M√©tricas do Sistema</h3>
                <div class="metric">
                    <span>CPU Usage:</span>
                    <span class="metric-value" id="cpu-value">0%</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="cpu-progress"></div>
                </div>
                
                <div class="metric">
                    <span>Memory Usage:</span>
                    <span class="metric-value" id="memory-value">0%</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="memory-progress"></div>
                </div>
                
                <div class="metric">
                    <span>Disk Usage:</span>
                    <span class="metric-value" id="disk-value">0%</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="disk-progress"></div>
                </div>
            </div>
            
            <div class="card clickable" onclick="showModule('ia')">
                <h3>üß† IA Evolutiva</h3>
                <div class="metric">
                    <span>N√≠vel Cognitivo:</span>
                    <span class="metric-value" id="cognitive-level">REACTIVE</span>
                </div>
                <div class="metric">
                    <span>Capacidades:</span>
                    <span class="metric-value" id="capabilities-count">2/7</span>
                </div>
                <div class="metric">
                    <span>Pr√≥xima Evolu√ß√£o:</span>
                    <span class="metric-value" id="next-evolution">DELIBERATIVE</span>
                </div>
            </div>
            
            <div class="card clickable" onclick="showModule('observability')">
                <h3>üîç Observabilidade</h3>
                <div class="metric">
                    <span>Coleta Multi-Dimensional:</span>
                    <span class="metric-value" id="collection-status">Ativa</span>
                </div>
                <div class="metric">
                    <span>Paradigmas de Diagn√≥stico:</span>
                    <span class="metric-value" id="paradigms-count">9</span>
                </div>
                <div class="metric">
                    <span>√öltima Coleta:</span>
                    <span class="metric-value" id="last-collection">Agora</span>
                </div>
            </div>
            
            <div class="card clickable" onclick="showModule('security')">
                <h3>üõ°Ô∏è Seguran√ßa & Sa√∫de</h3>
                <div class="metric">
                    <span>Criptografia:</span>
                    <span class="metric-value" id="crypto-status">Quantum-Safe</span>
                </div>
                <div class="metric">
                    <span>Componentes Saud√°veis:</span>
                    <span class="metric-value" id="healthy-components">5/5</span>
                </div>
                <div class="metric">
                    <span>A√ß√µes de Cura:</span>
                    <span class="metric-value" id="healing-actions">0</span>
                </div>
            </div>
            
            <div class="card clickable" onclick="showModule('logs')">
                <h3>üìù Log de Eventos</h3>
                <div id="events-log">
                    <div class="log-entry">Sistema iniciado com sucesso</div>
                    <div class="log-entry">M√≥dulos carregados</div>
                    <div class="log-entry">Coleta de m√©tricas ativa</div>
                </div>
            </div>
            
            <div class="card">
                <h3>üöÄ Status da Fase Alpha</h3>
                <div class="metric">
                    <span>Progresso Geral:</span>
                    <span class="metric-value">75%</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 75%"></div>
                </div>
                <div class="metric">
                    <span>Etapa Atual:</span>
                    <span class="metric-value">A2 - Corrigida</span>
                </div>
                <div class="metric">
                    <span>Pr√≥xima Etapa:</span>
                    <span class="metric-value">A3.1 - Quantum-Safe</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Se√ß√£o: M√©tricas Detalhadas -->
    <div id="metrics-section" class="module-section">
        <div class="module-header">
            <h2>üìà M√©tricas do Sistema</h2>
            <p>Monitoramento detalhado de recursos e performance</p>
        </div>
        <div class="action-buttons">
            <button class="action-btn" onclick="refreshMetrics()">üîÑ Atualizar M√©tricas</button>
            <button class="action-btn secondary" onclick="exportMetrics()">üìä Exportar Dados</button>
            <button class="action-btn warning" onclick="configureAlerts()">‚ö†Ô∏è Configurar Alertas</button>
        </div>
        <div class="dashboard">
            <div class="card">
                <h3>üíª CPU & Processamento</h3>
                <div class="metric">
                    <span>Uso Atual:</span>
                    <span class="metric-value" id="cpu-detailed">0%</span>
                </div>
                <div class="metric">
                    <span>N√∫cleos Ativos:</span>
                    <span class="metric-value">4/4</span>
                </div>
                <div class="metric">
                    <span>Temperatura:</span>
                    <span class="metric-value">45¬∞C</span>
                </div>
            </div>
            <div class="card">
                <h3>üß† Mem√≥ria</h3>
                <div class="metric">
                    <span>RAM Utilizada:</span>
                    <span class="metric-value" id="memory-detailed">0%</span>
                </div>
                <div class="metric">
                    <span>Cache:</span>
                    <span class="metric-value">2.1 GB</span>
                </div>
                <div class="metric">
                    <span>Swap:</span>
                    <span class="metric-value">0 MB</span>
                </div>
            </div>
            <div class="card">
                <h3>üíæ Armazenamento</h3>
                <div class="metric">
                    <span>Disco Principal:</span>
                    <span class="metric-value" id="disk-detailed">0%</span>
                </div>
                <div class="metric">
                    <span>I/O Read:</span>
                    <span class="metric-value">125 MB/s</span>
                </div>
                <div class="metric">
                    <span>I/O Write:</span>
                    <span class="metric-value">89 MB/s</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Se√ß√£o: IA Evolutiva -->
    <div id="ia-section" class="module-section">
        <div class="module-header">
            <h2>üß† IA Evolutiva</h2>
            <p>Sistema de intelig√™ncia artificial com capacidades evolutivas</p>
        </div>
        <div class="action-buttons">
            <button class="action-btn" onclick="triggerEvolution()">üöÄ Disparar Evolu√ß√£o</button>
            <button class="action-btn secondary" onclick="viewCapabilities()">üîç Ver Capacidades</button>
            <button class="action-btn warning" onclick="resetIA()">üîÑ Reset IA</button>
        </div>
        <div class="dashboard">
            <div class="card">
                <h3>üéØ N√≠vel Cognitivo Atual</h3>
                <div class="metric">
                    <span>N√≠vel:</span>
                    <span class="metric-value">REACTIVE</span>
                </div>
                <div class="metric">
                    <span>Experi√™ncia:</span>
                    <span class="metric-value">1,247 intera√ß√µes</span>
                </div>
                <div class="metric">
                    <span>Precis√£o:</span>
                    <span class="metric-value">94.2%</span>
                </div>
            </div>
            <div class="card">
                <h3>‚ö° Capacidades Ativas</h3>
                <div class="metric">
                    <span>Cl√°ssica:</span>
                    <span class="metric-value">‚úÖ Ativa</span>
                </div>
                <div class="metric">
                    <span>Quantum:</span>
                    <span class="metric-value">üîÑ Preparando</span>
                </div>
                <div class="metric">
                    <span>Nano:</span>
                    <span class="metric-value">‚è≥ Aguardando</span>
                </div>
            </div>
            <div class="card">
                <h3>üìà Pr√≥xima Evolu√ß√£o</h3>
                <div class="metric">
                    <span>Destino:</span>
                    <span class="metric-value">DELIBERATIVE</span>
                </div>
                <div class="metric">
                    <span>Progresso:</span>
                    <span class="metric-value">67%</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 67%"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Se√ß√£o: Observabilidade -->
    <div id="observability-section" class="module-section">
        <div class="module-header">
            <h2>üîç Observabilidade Multi-Dimensional</h2>
            <p>Coleta e an√°lise de dados em m√∫ltiplas dimens√µes</p>
        </div>
        <div class="action-buttons">
            <button class="action-btn" onclick="startCollection()">‚ñ∂Ô∏è Iniciar Coleta</button>
            <button class="action-btn secondary" onclick="generateReport()">üìã Gerar Relat√≥rio</button>
            <button class="action-btn warning" onclick="viewHolographic()">üåê Visualiza√ß√£o Hologr√°fica</button>
        </div>
        <div class="dashboard">
            <div class="card">
                <h3>üì° Coleta Multi-Dimensional</h3>
                <div class="metric">
                    <span>Status:</span>
                    <span class="metric-value">üü¢ Ativa</span>
                </div>
                <div class="metric">
                    <span>Dimens√µes:</span>
                    <span class="metric-value">4 (Cl√°ssica, Quantum, Nano, Bio)</span>
                </div>
                <div class="metric">
                    <span>Taxa de Coleta:</span>
                    <span class="metric-value">1.2k pontos/min</span>
                </div>
            </div>
            <div class="card">
                <h3>üî¨ Paradigmas de Diagn√≥stico</h3>
                <div class="metric">
                    <span>Ativos:</span>
                    <span class="metric-value">9/9</span>
                </div>
                <div class="metric">
                    <span>Consenso:</span>
                    <span class="metric-value">98.7%</span>
                </div>
                <div class="metric">
                    <span>Anomalias Detectadas:</span>
                    <span class="metric-value">0</span>
                </div>
            </div>
            <div class="card">
                <h3>üìä Armazenamento H√≠brido</h3>
                <div class="metric">
                    <span>Dados Cl√°ssicos:</span>
                    <span class="metric-value">2.4 GB</span>
                </div>
                <div class="metric">
                    <span>Estados Qu√¢nticos:</span>
                    <span class="metric-value">156 qubits</span>
                </div>
                <div class="metric">
                    <span>Compress√£o:</span>
                    <span class="metric-value">87%</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Se√ß√£o: Seguran√ßa -->
    <div id="security-section" class="module-section">
        <div class="module-header">
            <h2>üõ°Ô∏è Seguran√ßa & Sa√∫de do Sistema</h2>
            <p>Prote√ß√£o quantum-safe e monitoramento de sa√∫de</p>
        </div>
        <div class="action-buttons">
            <button class="action-btn" onclick="runSecurityScan()">üîç Scan de Seguran√ßa</button>
            <button class="action-btn secondary" onclick="updateCrypto()">üîê Atualizar Crypto</button>
            <button class="action-btn warning" onclick="emergencyProtocol()">üö® Protocolo de Emerg√™ncia</button>
        </div>
        <div class="dashboard">
            <div class="card">
                <h3>üîê Criptografia Quantum-Safe</h3>
                <div class="metric">
                    <span>Algoritmo:</span>
                    <span class="metric-value">CRYSTALS-Kyber</span>
                </div>
                <div class="metric">
                    <span>N√≠vel de Seguran√ßa:</span>
                    <span class="metric-value">AES-256 equivalente</span>
                </div>
                <div class="metric">
                    <span>√öltima Atualiza√ß√£o:</span>
                    <span class="metric-value">2 horas atr√°s</span>
                </div>
            </div>
            <div class="card">
                <h3>üíö Sa√∫de dos Componentes</h3>
                <div class="metric">
                    <span>API Principal:</span>
                    <span class="metric-value">‚úÖ Saud√°vel</span>
                </div>
                <div class="metric">
                    <span>Banco de Dados:</span>
                    <span class="metric-value">‚úÖ Saud√°vel</span>
                </div>
                <div class="metric">
                    <span>Cache Redis:</span>
                    <span class="metric-value">‚úÖ Saud√°vel</span>
                </div>
            </div>
            <div class="card">
                <h3>üöë A√ß√µes de Auto-Cura</h3>
                <div class="metric">
                    <span>Executadas Hoje:</span>
                    <span class="metric-value">0</span>
                </div>
                <div class="metric">
                    <span>Taxa de Sucesso:</span>
                    <span class="metric-value">100%</span>
                </div>
                <div class="metric">
                    <span>Tempo M√©dio:</span>
                    <span class="metric-value">1.2s</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Se√ß√£o: Logs -->
    <div id="logs-section" class="module-section">
        <div class="module-header">
            <h2>üìù Logs e Eventos do Sistema</h2>
            <p>Hist√≥rico completo de eventos e atividades</p>
        </div>
        <div class="action-buttons">
            <button class="action-btn" onclick="refreshLogs()">üîÑ Atualizar Logs</button>
            <button class="action-btn secondary" onclick="exportLogs()">üì§ Exportar Logs</button>
            <button class="action-btn warning" onclick="clearLogs()">üóëÔ∏è Limpar Logs</button>
        </div>
        <div class="dashboard">
            <div class="card">
                <h3>üìã Eventos Recentes</h3>
                <div id="detailed-events-log">
                    <div class="log-entry">14:11:56 - Sistema iniciado com sucesso</div>
                    <div class="log-entry">14:11:47 - M√≥dulos carregados</div>
                    <div class="log-entry">14:11:36 - Coleta de m√©tricas ativa</div>
                    <div class="log-entry">14:11:27 - API respondendo</div>
                    <div class="log-entry">14:11:16 - Cache Redis conectado</div>
                </div>
            </div>
            <div class="card">
                <h3>‚ö†Ô∏è Alertas e Avisos</h3>
                <div class="metric">
                    <span>Alertas Ativos:</span>
                    <span class="metric-value">0</span>
                </div>
                <div class="metric">
                    <span>Avisos:</span>
                    <span class="metric-value">0</span>
                </div>
                <div class="metric">
                    <span>Erros:</span>
                    <span class="metric-value">0</span>
                </div>
            </div>
            <div class="card">
                <h3>üìä Estat√≠sticas de Logs</h3>
                <div class="metric">
                    <span>Total de Eventos:</span>
                    <span class="metric-value">1,247</span>
                </div>
                <div class="metric">
                    <span>√öltimas 24h:</span>
                    <span class="metric-value">89</span>
                </div>
                <div class="metric">
                    <span>Tamanho do Log:</span>
                    <span class="metric-value">2.4 MB</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Se√ß√£o: Monitoramento Avan√ßado -->
    <div id="monitoring-section" class="module-section">
        <div class="module-header">
            <h2>üî¨ Monitoramento Avan√ßado</h2>
            <p>Integra√ß√£o com m√≥dulo de monitoramento hologr√°fico 4D</p>
        </div>
        <div class="action-buttons">
            <button class="action-btn" onclick="generateVisualization()">üåê Gerar Visualiza√ß√£o</button>
            <button class="action-btn secondary" onclick="configureAdvancedAlerts()">üîî Alertas Avan√ßados</button>
            <button class="action-btn warning" onclick="openHolographicView()">üëÅÔ∏è Vis√£o Hologr√°fica</button>
        </div>
        <div class="dashboard">
            <div class="card">
                <h3>üéØ Status da Ponte</h3>
                <div class="metric">
                    <span>Conex√£o:</span>
                    <span class="metric-value" id="bridge-status">‚úÖ Ativa</span>
                </div>
                <div class="metric">
                    <span>M√©tricas Avan√ßadas:</span>
                    <span class="metric-value" id="advanced-metrics-count">0</span>
                </div>
                <div class="metric">
                    <span>√öltima Sincroniza√ß√£o:</span>
                    <span class="metric-value" id="last-sync">Agora</span>
                </div>
            </div>
            <div class="card">
                <h3>üîÆ Capacidades Hologr√°ficas</h3>
                <div class="metric">
                    <span>Visualiza√ß√£o 4D:</span>
                    <span class="metric-value">‚úÖ Dispon√≠vel</span>
                </div>
                <div class="metric">
                    <span>An√°lise Preditiva:</span>
                    <span class="metric-value">‚úÖ Ativa</span>
                </div>
                <div class="metric">
                    <span>Correla√ß√£o de M√©tricas:</span>
                    <span class="metric-value">‚úÖ Funcionando</span>
                </div>
            </div>
            <div class="card">
                <h3>üö® Alertas Inteligentes</h3>
                <div class="metric">
                    <span>Regras Ativas:</span>
                    <span class="metric-value">12</span>
                </div>
                <div class="metric">
                    <span>Detec√ß√£o de Anomalias:</span>
                    <span class="metric-value">‚úÖ Ativa</span>
                </div>
                <div class="metric">
                    <span>Machine Learning:</span>
                    <span class="metric-value">üß† Aprendendo</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Se√ß√£o: Interface de Aprova√ß√£o Manual -->
    <div id="approvals-section" class="module-section">
        <div class="module-header">
            <h2>ü§ñ Interface de Aprova√ß√£o Manual</h2>
            <p>Sugest√µes inteligentes de melhorias identificadas pelo sistema</p>
        </div>
        <div class="action-buttons">
            <button class="action-btn" onclick="refreshSuggestions()">üîÑ Buscar Novas Sugest√µes</button>
            <button class="action-btn secondary" onclick="viewApprovalHistory()">üìã Hist√≥rico de Aprova√ß√µes</button>
            <button class="action-btn warning" onclick="configureApprovalSettings()">‚öôÔ∏è Configurar Aprova√ß√µes</button>
        </div>
        
        <!-- Container de Sugest√µes -->
        <div id="suggestions-container" class="dashboard">
            <!-- As sugest√µes ser√£o carregadas dinamicamente da API -->
            <div class="suggestion-card loading-placeholder" style="text-align: center; padding: 40px; opacity: 0.7;">
                <h3>üîÑ Carregando Sugest√µes...</h3>
                <p>Clique em "üîÑ Buscar Novas Sugest√µes" para carregar as melhorias identificadas pelo sistema.</p>
            </div>
        </div>
        
        <!-- Painel de Status das Aprova√ß√µes -->
        <div class="approval-status-panel">
            <h3>üìä Status das Aprova√ß√µes</h3>
            <div class="approval-stats">
                <div class="stat-item">
                    <span class="stat-label">Pendentes:</span>
                    <span class="stat-value" id="pending-approvals">4</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Aplicadas Hoje:</span>
                    <span class="stat-value" id="applied-today">7</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Taxa de Aceita√ß√£o:</span>
                    <span class="stat-value" id="acceptance-rate">89%</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Economia Estimada:</span>
                    <span class="stat-value" id="estimated-savings">2.3h/dia</span>
                </div>
            </div>
        </div>
        
    </div>
    
    <button class="refresh-btn" onclick="refreshData()">
        üîÑ Atualizar
        <span class="auto-refresh" id="auto-refresh-status">Auto: ON</span>
    </button>
    
    <script>
        let autoRefresh = true;
        let refreshInterval;
        
        async function fetchData(endpoint) {
            try {
                const response = await fetch(`http://localhost:8000${endpoint}`);
                return await response.json();
            } catch (error) {
                console.error(`Erro ao buscar ${endpoint}:`, error);
                return null;
            }
        }
        
        async function updateMetrics() {
            const testData = await fetchData('/test');
            if (testData) {
                updateProgressBar('cpu', testData.cpu);
                updateProgressBar('memory', testData.memory);
                document.getElementById('cpu-value').textContent = `${testData.cpu.toFixed(1)}%`;
                document.getElementById('memory-value').textContent = `${testData.memory.toFixed(1)}%`;
            }
        }
        
        async function updateSystemStatus() {
            const healthData = await fetchData('/health');
            if (healthData) {
                const statusElement = document.getElementById('system-health');
                const textElement = document.getElementById('system-health-text');
                
                if (healthData.status === 'healthy') {
                    statusElement.className = 'status-item healthy';
                    textElement.textContent = '‚úÖ Saud√°vel';
                } else {
                    statusElement.className = 'status-item warning';
                    textElement.textContent = '‚ö†Ô∏è Degradado';
                }
                
                // Atualiza componentes saud√°veis
                const healthyCount = Object.values(healthData.components).filter(c => c).length;
                const totalCount = Object.keys(healthData.components).length;
                document.getElementById('healthy-components').textContent = `${healthyCount}/${totalCount}`;
            }
        }
        
        async function updateEvolutionStatus() {
            try {
                const evolutionData = await fetchData('/evolution/status');
                if (evolutionData) {
                    document.getElementById('cognitive-level').textContent = 'REACTIVE';
                    document.getElementById('evolution-level').textContent = 'N√≠vel 1';
                    
                    const capabilitiesCount = Object.values(evolutionData.capabilities || {}).filter(c => c).length;
                    document.getElementById('capabilities-count').textContent = `${capabilitiesCount}/7`;
                }
            } catch (error) {
                // Fallback para dados simulados
                document.getElementById('cognitive-level').textContent = 'REACTIVE';
                document.getElementById('evolution-level').textContent = 'N√≠vel 1';
                document.getElementById('capabilities-count').textContent = '2/7';
            }
        }
        
        function updateProgressBar(type, value) {
            const progressElement = document.getElementById(`${type}-progress`);
            progressElement.style.width = `${value}%`;
            
            // Atualiza cor baseada no valor
            if (value > 80) {
                progressElement.className = 'progress-fill danger';
            } else if (value > 60) {
                progressElement.className = 'progress-fill warning';
            } else {
                progressElement.className = 'progress-fill';
            }
        }
        
        function addLogEntry(message, type = 'info') {
            const logContainer = document.getElementById('events-log');
            const entry = document.createElement('div');
            entry.className = `log-entry ${type}`;
            entry.textContent = `${new Date().toLocaleTimeString()} - ${message}`;
            
            logContainer.insertBefore(entry, logContainer.firstChild);
            
            // Mant√©m apenas os √∫ltimos 10 logs
            while (logContainer.children.length > 10) {
                logContainer.removeChild(logContainer.lastChild);
            }
        }
        
        async function refreshData() {
            document.body.classList.add('loading');
            
            try {
                // Tenta usar monitoramento avan√ßado primeiro
                const advancedSuccess = await updateDashboardWithAdvancedMonitoring();
                
                if (!advancedSuccess) {
                    // Fallback para dados b√°sicos
                    await Promise.all([
                        updateMetrics(),
                        updateSystemStatus(),
                        updateEvolutionStatus()
                    ]);
                }
                
                addLogEntry('Dados atualizados com sucesso');
                
                // Atualiza timestamp
                document.getElementById('last-collection').textContent = new Date().toLocaleTimeString();
                
            } catch (error) {
                addLogEntry('Erro ao atualizar dados', 'error');
            } finally {
                document.body.classList.remove('loading');
            }
        }
        
        function toggleAutoRefresh() {
            autoRefresh = !autoRefresh;
            const statusElement = document.getElementById('auto-refresh-status');
            
            if (autoRefresh) {
                statusElement.textContent = 'Auto: ON';
                statusElement.style.color = '#4CAF50';
                startAutoRefresh();
            } else {
                statusElement.textContent = 'Auto: OFF';
                statusElement.style.color = '#F44336';
                clearInterval(refreshInterval);
            }
        }
        
        function startAutoRefresh() {
            refreshInterval = setInterval(refreshData, 10000); // 10 segundos
        }
        
        // Inicializa√ß√£o
        document.addEventListener('DOMContentLoaded', function() {
            refreshData();
            startAutoRefresh();
            
            // Adiciona evento de clique duplo no bot√£o para toggle auto-refresh
            document.querySelector('.refresh-btn').addEventListener('dblclick', toggleAutoRefresh);
            
            addLogEntry('Dashboard inicializado');
            addLogEntry('Sistema AutoCura - Fase Alpha ativo');
            
            // Verifica se a API est√° dispon√≠vel
            checkAPIConnection();
        });
        
        // Verifica conex√£o com API
        async function checkAPIConnection() {
            try {
                const response = await fetch('http://localhost:8001/evolution/suggestions');
                if (response.ok) {
                    addLogEntry('‚úÖ API de sugest√µes conectada', 'info');
                } else {
                    addLogEntry('‚ö†Ô∏è API de sugest√µes n√£o dispon√≠vel', 'warning');
                }
            } catch (error) {
                addLogEntry('‚ùå Erro de conex√£o com API de sugest√µes', 'error');
                console.log('Detalhes do erro:', error);
            }
        }
        
        // Simula algumas m√©tricas iniciais
        setTimeout(() => {
            updateProgressBar('disk', 45);
            document.getElementById('disk-value').textContent = '45%';
        }, 1000);
        
        async function updateDashboardWithAdvancedMonitoring() {
            try {
                // Tenta usar dados enriquecidos do m√≥dulo de monitoramento
                const advancedData = await fetchData('/api/dashboard-bridge/dados-enriquecidos');
                if (advancedData) {
                    console.log('Usando dados avan√ßados do m√≥dulo de monitoramento');
                    
                    // Atualiza m√©tricas com dados avan√ßados
                    if (advancedData.system_metrics) {
                        updateProgressBar('cpu', advancedData.system_metrics.cpu);
                        updateProgressBar('memory', advancedData.system_metrics.memory);
                        updateProgressBar('disk', advancedData.system_metrics.disk);
                        
                        document.getElementById('cpu-value').textContent = `${advancedData.system_metrics.cpu.toFixed(1)}%`;
                        document.getElementById('memory-value').textContent = `${advancedData.system_metrics.memory.toFixed(1)}%`;
                        document.getElementById('disk-value').textContent = `${advancedData.system_metrics.disk.toFixed(1)}%`;
                    }
                    
                    // Atualiza capacidades de monitoramento
                    if (advancedData.capacidades_monitoramento) {
                        updateMonitoringCapabilities(advancedData.capacidades_monitoramento);
                    }
                    
                    // Atualiza estat√≠sticas de m√©tricas
                    if (advancedData.estatisticas_metricas) {
                        updateMetricsStatistics(advancedData.estatisticas_metricas);
                    }
                    
                    return true;
                }
            } catch (error) {
                console.log('M√≥dulo de monitoramento avan√ßado n√£o dispon√≠vel, usando dados b√°sicos');
            }
            
            return false;
        }
        
        function updateMonitoringCapabilities(capabilities) {
            // Adiciona indicadores de capacidades avan√ßadas
            const capabilitiesContainer = document.querySelector('.card h3');
            if (capabilitiesContainer && capabilities.visualizacao_holografica) {
                const advancedIndicator = document.createElement('span');
                advancedIndicator.innerHTML = ' üî¨ Avan√ßado';
                advancedIndicator.style.fontSize = '0.8em';
                advancedIndicator.style.color = '#4CAF50';
                capabilitiesContainer.appendChild(advancedIndicator);
            }
        }
        
        function updateMetricsStatistics(stats) {
            // Atualiza estat√≠sticas se dispon√≠veis
            if (stats.total_metricas) {
                const metricsInfo = document.createElement('div');
                metricsInfo.className = 'metric';
                metricsInfo.innerHTML = `
                    <span>Total de M√©tricas:</span>
                    <span class="metric-value">${stats.total_metricas}</span>
                `;
                
                const observabilityCard = document.querySelector('.card:nth-child(3)');
                if (observabilityCard) {
                    observabilityCard.appendChild(metricsInfo);
                }
            }
        }
        
        // Fun√ß√µes de Navega√ß√£o
        function showModule(moduleName) {
            // Remove classe active de todos os bot√µes
            document.querySelectorAll('.nav-button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Remove classe active de todas as se√ß√µes
            document.querySelectorAll('.module-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Ativa o bot√£o clicado
            event.target.classList.add('active');
            
            // Mostra a se√ß√£o correspondente
            const section = document.getElementById(`${moduleName}-section`);
            if (section) {
                section.classList.add('active');
                addLogEntry(`Navegou para m√≥dulo: ${moduleName}`);
            }
            
            // Atualiza dados espec√≠ficos do m√≥dulo
            updateModuleData(moduleName);
        }
        
        function updateModuleData(moduleName) {
            switch(moduleName) {
                case 'metrics':
                    updateDetailedMetrics();
                    break;
                case 'ia':
                    updateIAStatus();
                    break;
                case 'approvals':
                    updateApprovalsData();
                    break;
                case 'observability':
                    updateObservabilityStatus();
                    break;
                case 'security':
                    updateSecurityStatus();
                    break;
                case 'logs':
                    updateDetailedLogs();
                    break;
                case 'monitoring':
                    updateAdvancedMonitoring();
                    break;
            }
        }
        
        // Fun√ß√µes de Atualiza√ß√£o de Dados
        async function updateDetailedMetrics() {
            try {
                const testData = await fetchData('/test');
                if (testData) {
                    document.getElementById('cpu-detailed').textContent = `${testData.cpu.toFixed(1)}%`;
                    document.getElementById('memory-detailed').textContent = `${testData.memory.toFixed(1)}%`;
                    document.getElementById('disk-detailed').textContent = `32.3%`;
                }
            } catch (error) {
                console.error('Erro ao atualizar m√©tricas detalhadas:', error);
            }
        }
        
        async function updateIAStatus() {
            try {
                const evolutionData = await fetchData('/evolution/status');
                if (evolutionData) {
                    // Atualiza dados da IA se necess√°rio
                    console.log('Status da IA atualizado:', evolutionData);
                }
            } catch (error) {
                console.error('Erro ao atualizar status da IA:', error);
            }
        }
        
        async function updateObservabilityStatus() {
            try {
                const advancedData = await fetchData('/api/dashboard-bridge/dados-enriquecidos');
                if (advancedData && advancedData.capacidades_monitoramento) {
                    console.log('Capacidades de observabilidade:', advancedData.capacidades_monitoramento);
                }
            } catch (error) {
                console.error('Erro ao atualizar observabilidade:', error);
            }
        }
        
        async function updateSecurityStatus() {
            try {
                const healthData = await fetchData('/health');
                if (healthData) {
                    console.log('Status de seguran√ßa atualizado:', healthData);
                }
            } catch (error) {
                console.error('Erro ao atualizar seguran√ßa:', error);
            }
        }
        
        async function updateDetailedLogs() {
            try {
                const contextData = await fetchData('/context');
                if (contextData && contextData.eventos_recentes) {
                    const logContainer = document.getElementById('detailed-events-log');
                    logContainer.innerHTML = '';
                    
                    contextData.eventos_recentes.slice(0, 10).forEach(evento => {
                        const entry = document.createElement('div');
                        entry.className = 'log-entry';
                        entry.textContent = `${new Date(evento.timestamp || Date.now()).toLocaleTimeString()} - ${evento.tipo || evento.evento}: ${evento.detalhes || ''}`;
                        logContainer.appendChild(entry);
                    });
                }
            } catch (error) {
                console.error('Erro ao atualizar logs detalhados:', error);
            }
        }
        
        async function updateAdvancedMonitoring() {
            try {
                const bridgeData = await fetchData('/api/dashboard-bridge/dados-enriquecidos');
                if (bridgeData) {
                    document.getElementById('bridge-status').textContent = '‚úÖ Ativa';
                    document.getElementById('advanced-metrics-count').textContent = bridgeData.metricas_avancadas?.total_metricas || '0';
                    document.getElementById('last-sync').textContent = new Date().toLocaleTimeString();
                }
            } catch (error) {
                document.getElementById('bridge-status').textContent = '‚ùå Desconectada';
                console.error('Erro ao atualizar monitoramento avan√ßado:', error);
            }
        }
        
        // Fun√ß√µes de A√ß√£o dos Bot√µes
        async function refreshMetrics() {
            addLogEntry('Atualizando m√©tricas...', 'info');
            await updateDetailedMetrics();
            addLogEntry('M√©tricas atualizadas com sucesso', 'info');
        }
        
        function exportMetrics() {
            addLogEntry('Exportando m√©tricas...', 'info');
            // Simula exporta√ß√£o
            setTimeout(() => {
                addLogEntry('M√©tricas exportadas para metrics_export.json', 'info');
            }, 1000);
        }
        
        function configureAlerts() {
            addLogEntry('Abrindo configura√ß√£o de alertas...', 'info');
            alert('Funcionalidade de configura√ß√£o de alertas ser√° implementada em breve!');
        }
        
        async function triggerEvolution() {
            addLogEntry('Disparando evolu√ß√£o da IA...', 'info');
            try {
                const response = await fetchData('/evolution/trigger');
                if (response) {
                    addLogEntry('Evolu√ß√£o da IA disparada com sucesso!', 'info');
                }
            } catch (error) {
                addLogEntry('Erro ao disparar evolu√ß√£o da IA', 'error');
            }
        }
        
        function viewCapabilities() {
            addLogEntry('Visualizando capacidades da IA...', 'info');
            alert('Capacidades da IA:\n- Processamento Cl√°ssico: ‚úÖ\n- Quantum Ready: üîÑ\n- Nano Ready: ‚è≥\n- Bio Ready: ‚è≥');
        }
        
        function resetIA() {
            if (confirm('Tem certeza que deseja resetar a IA? Esta a√ß√£o n√£o pode ser desfeita.')) {
                addLogEntry('Resetando IA...', 'warning');
                setTimeout(() => {
                    addLogEntry('IA resetada com sucesso', 'info');
                }, 2000);
            }
        }
        
        function startCollection() {
            addLogEntry('Iniciando coleta multi-dimensional...', 'info');
            setTimeout(() => {
                addLogEntry('Coleta multi-dimensional ativa', 'info');
            }, 1000);
        }
        
        function generateReport() {
            addLogEntry('Gerando relat√≥rio de observabilidade...', 'info');
            setTimeout(() => {
                addLogEntry('Relat√≥rio gerado: observability_report.pdf', 'info');
            }, 2000);
        }
        
        function viewHolographic() {
            addLogEntry('Abrindo visualiza√ß√£o hologr√°fica...', 'info');
            alert('Visualiza√ß√£o Hologr√°fica 4D ser√° aberta em nova janela!');
        }
        
        function runSecurityScan() {
            addLogEntry('Executando scan de seguran√ßa...', 'info');
            setTimeout(() => {
                addLogEntry('Scan de seguran√ßa conclu√≠do - Nenhuma amea√ßa detectada', 'info');
            }, 3000);
        }
        
        function updateCrypto() {
            addLogEntry('Atualizando algoritmos de criptografia...', 'info');
            setTimeout(() => {
                addLogEntry('Criptografia atualizada para CRYSTALS-Kyber v2.0', 'info');
            }, 2000);
        }
        
        function emergencyProtocol() {
            if (confirm('Ativar protocolo de emerg√™ncia? Isso ir√° isolar o sistema.')) {
                addLogEntry('PROTOCOLO DE EMERG√äNCIA ATIVADO', 'error');
                alert('Sistema isolado por seguran√ßa!');
            }
        }
        
        function refreshLogs() {
            addLogEntry('Atualizando logs...', 'info');
            updateDetailedLogs();
        }
        
        function exportLogs() {
            addLogEntry('Exportando logs...', 'info');
            setTimeout(() => {
                addLogEntry('Logs exportados para system_logs.zip', 'info');
            }, 1500);
        }
        
        function clearLogs() {
            if (confirm('Tem certeza que deseja limpar todos os logs?')) {
                addLogEntry('Limpando logs...', 'warning');
                setTimeout(() => {
                    document.getElementById('detailed-events-log').innerHTML = '<div class="log-entry">Logs limpos</div>';
                    addLogEntry('Logs limpos com sucesso', 'info');
                }, 1000);
            }
        }
        
        async function generateVisualization() {
            addLogEntry('Gerando visualiza√ß√£o temporal...', 'info');
            try {
                const response = await fetch('http://localhost:8000/api/dashboard-bridge/visualizacao-temporal', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(['cpu_gauge', 'memory_gauge'])
                });
                const result = await response.json();
                if (result.sucesso) {
                    addLogEntry('Visualiza√ß√£o gerada com sucesso!', 'info');
                } else {
                    addLogEntry('Erro ao gerar visualiza√ß√£o', 'error');
                }
            } catch (error) {
                addLogEntry('Erro na comunica√ß√£o com o m√≥dulo de visualiza√ß√£o', 'error');
            }
        }
        
        function configureAdvancedAlerts() {
            addLogEntry('Configurando alertas avan√ßados...', 'info');
            alert('Sistema de alertas inteligentes com ML ser√° configurado!');
        }
        
        function openHolographicView() {
            addLogEntry('Abrindo vis√£o hologr√°fica...', 'info');
            window.open('http://localhost:3000', '_blank');
        }
        
        // ==========================================
        // FUN√á√ïES DA INTERFACE DE APROVA√á√ÉO MANUAL
        // ==========================================
        
        // Carrega sugest√µes de melhoria do sistema
        async function refreshSuggestions() {
            addLogEntry('Buscando novas sugest√µes de melhoria...', 'info');
            
            try {
                const response = await fetch('http://localhost:8000/api/evolution/suggestions');
                const data = await response.json();
                
                if (data.success && data.suggestions) {
                    updateSuggestionsDisplay(data.suggestions);
                    updateApprovalStatsFromAPI(data.stats);
                    addLogEntry(`${data.suggestions.length} sugest√µes carregadas da API`, 'info');
                } else {
                    throw new Error('Falha ao carregar sugest√µes da API');
                }
            } catch (error) {
                console.error('Erro ao buscar sugest√µes:', error);
                addLogEntry('API n√£o dispon√≠vel - usando sugest√µes est√°ticas', 'warning');
                simulateNewSuggestions();
            }
        }
        
        // Atualiza display das sugest√µes com dados da API
        function updateSuggestionsDisplay(suggestions) {
            const container = document.getElementById('suggestions-container');
            if (!container) return;
            
            // Limpa sugest√µes existentes
            container.innerHTML = '';
            
            suggestions.forEach(suggestion => {
                const suggestionCard = createSuggestionCard(suggestion);
                container.appendChild(suggestionCard);
            });
            
            addLogEntry('Interface de sugest√µes atualizada', 'info');
        }
        
        // Cria card de sugest√£o dinamicamente
        function createSuggestionCard(suggestion) {
            const card = document.createElement('div');
            card.className = 'suggestion-card';
            card.setAttribute('data-suggestion-id', suggestion.id);
            
            // Determina classe de prioridade
            const priorityClass = suggestion.priority;
            const typeClass = suggestion.type;
            
            // √çcones por tipo
            const typeIcons = {
                'performance': 'üöÄ',
                'bugfix': 'üêõ',
                'feature': '‚ú®',
                'security': 'üõ°Ô∏è'
            };
            
            // Labels por tipo
            const typeLabels = {
                'performance': 'Otimiza√ß√£o de Performance',
                'bugfix': 'Corre√ß√£o de Bug',
                'feature': 'Nova Funcionalidade',
                'security': 'Melhoria de Seguran√ßa'
            };
            
            // Labels de prioridade
            const priorityLabels = {
                'critical': 'Cr√≠tica',
                'high': 'Alta Prioridade',
                'medium': 'M√©dia Prioridade',
                'low': 'Baixa Prioridade'
            };
            
            card.innerHTML = `
                <div class="suggestion-header">
                    <div class="suggestion-type ${typeClass}">${typeIcons[typeClass]} ${typeLabels[typeClass]}</div>
                    <div class="suggestion-priority ${priorityClass}">${priorityLabels[priorityClass]}</div>
                </div>
                <div class="suggestion-content">
                    <h4>üí° Melhoria Identificada: ${suggestion.title}</h4>
                    <div class="suggestion-description">
                        <p><strong>üìä O que foi detectado:</strong><br>
                        ${suggestion.detection_description}</p>
                        
                        <p><strong>üéØ Melhoria proposta:</strong><br>
                        ${suggestion.improvement_description}</p>
                        
                        <p><strong>üîß O que ser√° modificado:</strong><br>
                        ${suggestion.benefits_description.replace(/\n/g, '<br>')}</p>
                    </div>
                    
                    <div class="suggestion-metrics">
                        ${Object.entries(suggestion.metrics).map(([key, value]) => `
                            <div class="metric-item">
                                <span class="metric-label">${key.charAt(0).toUpperCase() + key.slice(1)}:</span>
                                <span class="metric-value ${getMetricClass(key, value)}">${value}</span>
                            </div>
                        `).join('')}
                    </div>
                    
                    <div class="suggestion-actions">
                        <button class="suggestion-btn apply ${priorityClass === 'critical' ? 'urgent' : ''}" 
                                onclick="applySuggestion('${suggestion.id}')">
                            ${priorityClass === 'critical' ? 'üö® Aplicar Imediatamente' : '‚úÖ Aplicar Melhoria'}
                        </button>
                        <button class="suggestion-btn preview" onclick="previewSuggestion('${suggestion.id}')">
                            üëÅÔ∏è Ver C√≥digo
                        </button>
                        <button class="suggestion-btn reject" onclick="rejectSuggestion('${suggestion.id}')">
                            ‚ùå Rejeitar
                        </button>
                        ${priorityClass === 'medium' ? `
                            <button class="suggestion-btn schedule" onclick="scheduleSuggestion('${suggestion.id}')">
                                ‚è∞ Agendar
                            </button>
                        ` : ''}
                        ${priorityClass === 'low' ? `
                            <button class="suggestion-btn later" onclick="postponeSuggestion('${suggestion.id}')">
                                ‚è≥ Depois
                            </button>
                        ` : ''}
                        ${priorityClass === 'critical' ? `
                            <button class="suggestion-btn escalate" onclick="escalateSuggestion('${suggestion.id}')">
                                üìû Escalar
                            </button>
                        ` : ''}
                    </div>
                </div>
            `;
            
            return card;
        }
        
        // Determina classe CSS para m√©tricas
        function getMetricClass(key, value) {
            const positiveKeywords = ['performance', 'protection', 'alto', 'ativa', 'estabilidade'];
            const negativeKeywords = ['cr√≠tica', 'alta', 'alto', 'urg√™ncia'];
            
            const lowerValue = value.toString().toLowerCase();
            
            if (positiveKeywords.some(keyword => lowerValue.includes(keyword))) {
                return 'positive';
            } else if (negativeKeywords.some(keyword => lowerValue.includes(keyword))) {
                return 'critical';
            } else if (lowerValue.includes('baixo') || lowerValue.includes('m√©dia')) {
                return 'medium';
            }
            
            return '';
        }
        
        // Atualiza estat√≠sticas com dados da API
        function updateApprovalStatsFromAPI(stats) {
            if (!stats) return;
            
            document.getElementById('pending-approvals').textContent = stats.pending || 0;
            document.getElementById('applied-today').textContent = stats.applied_today || 0;
            document.getElementById('acceptance-rate').textContent = (stats.acceptance_rate || 0) + '%';
            document.getElementById('estimated-savings').textContent = (stats.estimated_savings || 0) + 'h/dia';
        }
        
        // Mostra preview do c√≥digo/detalhes
        async function previewSuggestion(suggestionId) {
            addLogEntry(`Carregando preview da sugest√£o ${suggestionId}...`, 'info');
            console.log('Preview solicitado para:', suggestionId);
            
            try {
                const response = await fetch(`http://localhost:8000/api/evolution/preview/${suggestionId}`);
                console.log('Response status:', response.status);
                const data = await response.json();
                console.log('Data recebida:', data);
                
                if (data.success && data.code) {
                    showCodePreviewModal(data.code, data.description);
                    addLogEntry('Preview carregado da API', 'info');
                } else {
                    throw new Error(data.error || 'Preview n√£o dispon√≠vel');
                }
            } catch (error) {
                console.error('Erro ao carregar preview:', error);
                addLogEntry('Erro ao carregar preview - usando dados simulados', 'warning');
                showSimulatedPreview(suggestionId);
            }
        }
        
        // Mostra preview simulado
        function showSimulatedPreview(suggestionId) {
            const previews = {
                'perf-opt-001': {
                    title: 'Otimiza√ß√£o de Cache Redis',
                    code: `# C√≥digo da Otimiza√ß√£o de Cache
class IntelligentCacheManager:
    def __init__(self):
        self.prediction_model = AccessPredictor()
        self.usage_patterns = {}
    
    def smart_cache(self, key, data):
        # Prediz probabilidade de acesso futuro
        score = self.prediction_model.predict(key)
        if score > 0.7:
            self.cache.set(key, data, ttl=3600)
        else:
            self.cache.set(key, data, ttl=300)
            
    def analyze_patterns(self):
        # Analisa padr√µes de acesso
        for key, access_time in self.usage_patterns.items():
            if self.is_frequent_access(key):
                self.prioritize_cache(key)`,
                    description: 'Esta otimiza√ß√£o implementa cache inteligente com predi√ß√£o de acesso baseado em machine learning. O sistema aprende com os padr√µes de uso e otimiza automaticamente as estrat√©gias de cache.'
                },
                'bug-fix-002': {
                    title: 'Corre√ß√£o de Vazamento de Mem√≥ria',
                    code: `# Corre√ß√£o do Vazamento de Mem√≥ria
import gc
import weakref
from threading import Timer

class MonitoringModule:
    def __init__(self):
        self.active_references = weakref.WeakSet()
        self.cleanup_timer = Timer(300, self.cleanup)
        self.cleanup_timer.start()
    
    def cleanup(self):
        # Remove refer√™ncias circulares
        gc.collect()
        self.active_references.clear()
        
        # Reagenda pr√≥xima limpeza
        self.cleanup_timer = Timer(300, self.cleanup)
        self.cleanup_timer.start()
        
    def add_reference(self, obj):
        self.active_references.add(obj)`,
                    description: 'Corrige vazamento de mem√≥ria implementando limpeza autom√°tica de refer√™ncias circulares e gerenciamento inteligente de objetos. O sistema detecta automaticamente objetos √≥rf√£os e os remove.'
                },
                'feature-003': {
                    title: 'Auto-Backup Inteligente',
                    code: `# Sistema de Auto-Backup Inteligente
import hashlib
from datetime import datetime, timedelta

class IntelligentBackup:
    def __init__(self):
        self.change_analyzer = ChangeAnalyzer()
        self.backup_scheduler = BackupScheduler()
        self.last_backup_hash = None
    
    def analyze_and_backup(self, system_state):
        # Calcula hash do estado atual
        current_hash = hashlib.sha256(
            str(system_state).encode()
        ).hexdigest()
        
        if self.should_backup(current_hash, system_state):
            self.create_intelligent_backup(system_state)
            self.last_backup_hash = current_hash
    
    def should_backup(self, current_hash, state):
        if self.last_backup_hash != current_hash:
            importance = self.change_analyzer.calculate_importance(state)
            return importance > 0.8
        return False`,
                    description: 'Implementa sistema de backup inteligente que analisa a import√¢ncia das mudan√ßas e cria pontos de restaura√ß√£o apenas quando necess√°rio, economizando espa√ßo e recursos.'
                },
                'security-004': {
                    title: 'Sistema de Autentica√ß√£o 2FA',
                    code: `# Sistema de Autentica√ß√£o Multi-Fator
import pyotp
import qrcode
from datetime import datetime, timedelta

class TwoFactorAuth:
    def __init__(self):
        self.token_generator = pyotp.TOTP('JBSWY3DPEHPK3PXP')
        self.audit_logger = SecurityAuditLogger()
        self.failed_attempts = {}
    
    def verify_critical_operation(self, user, operation, token):
        # Verifica token 2FA
        if not self.token_generator.verify(token):
            self.log_failed_attempt(user, operation)
            return False
        
        # Log da opera√ß√£o autorizada
        self.audit_logger.log_operation(user, operation, 
                                      timestamp=datetime.now())
        return True
    
    def log_failed_attempt(self, user, operation):
        if user not in self.failed_attempts:
            self.failed_attempts[user] = []
        
        self.failed_attempts[user].append({
            'operation': operation,
            'timestamp': datetime.now()
        })`,
                    description: 'Implementa sistema de autentica√ß√£o multi-fator para opera√ß√µes cr√≠ticas, com auditoria completa e prote√ß√£o contra ataques de for√ßa bruta.'
                }
            };
            
            const preview = previews[suggestionId] || {
                title: 'Preview da Sugest√£o',
                code: '// C√≥digo da implementa√ß√£o ser√° mostrado aqui\nconsole.log("Preview n√£o dispon√≠vel");',
                description: 'Detalhes da implementa√ß√£o'
            };
            
            showCodePreviewModal(preview.code, preview.description, preview.title);
        }
        
        // Modal de preview do c√≥digo
        function showCodePreviewModal(code, description, title = 'Preview do C√≥digo') {
            // Remove modal existente se houver
            const existingModal = document.querySelector('.code-preview-modal');
            if (existingModal) existingModal.remove();
            
            const modal = document.createElement('div');
            modal.className = 'code-preview-modal';
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.8);
                z-index: 10000;
                display: flex;
                align-items: center;
                justify-content: center;
                backdrop-filter: blur(10px);
            `;
            
            // Escapa o c√≥digo para HTML
            const escapedCode = code.replace(/</g, '&lt;').replace(/>/g, '&gt;');
            
            modal.innerHTML = `
                <div style="
                    background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
                    border-radius: 15px;
                    padding: 30px;
                    max-width: 80%;
                    max-height: 80%;
                    overflow-y: auto;
                    border: 2px solid rgba(255,255,255,0.2);
                    box-shadow: 0 8px 32px rgba(0,0,0,0.5);
                ">
                    <h3 style="color: #FFD700; margin-bottom: 20px; text-align: center;">${title}</h3>
                    <p style="color: white; margin-bottom: 20px; line-height: 1.6;">${description}</p>
                    <pre style="
                        background: rgba(0,0,0,0.5);
                        color: #4CAF50;
                        padding: 20px;
                        border-radius: 10px;
                        overflow-x: auto;
                        font-family: 'Courier New', monospace;
                        line-height: 1.4;
                        max-height: 400px;
                        white-space: pre-wrap;
                        word-wrap: break-word;
                    ">${escapedCode}</pre>
                    <div style="text-align: center; margin-top: 20px;">
                        <button class="modal-close-btn" style="
                            background: linear-gradient(45deg, #4CAF50, #45a049);
                            color: white;
                            border: none;
                            padding: 10px 30px;
                            border-radius: 25px;
                            cursor: pointer;
                            font-size: 1em;
                            margin-right: 10px;
                        ">Fechar</button>
                        <button class="modal-copy-btn" data-suggestion-id="${title}" style="
                            background: linear-gradient(45deg, #2196F3, #1976D2);
                            color: white;
                            border: none;
                            padding: 10px 30px;
                            border-radius: 25px;
                            cursor: pointer;
                            font-size: 1em;
                        ">üìã Copiar C√≥digo</button>
                    </div>
                </div>
            `;
            
            // Adiciona event listeners ap√≥s criar o modal
            document.body.appendChild(modal);
            
            // Fechar ao clicar fora
            modal.onclick = (e) => {
                if (e.target === modal) modal.remove();
            };
            
            // Bot√£o fechar
            const closeBtn = modal.querySelector('.modal-close-btn');
            if (closeBtn) {
                closeBtn.onclick = () => modal.remove();
            }
            
            // Bot√£o copiar
            const copyBtn = modal.querySelector('.modal-copy-btn');
            if (copyBtn) {
                copyBtn.onclick = () => {
                    navigator.clipboard.writeText(code).then(() => {
                        addLogEntry('C√≥digo copiado para a √°rea de transfer√™ncia', 'info');
                        copyBtn.textContent = '‚úÖ Copiado!';
                        setTimeout(() => {
                            copyBtn.textContent = 'üìã Copiar C√≥digo';
                        }, 2000);
                    }).catch(err => {
                        console.error('Erro ao copiar:', err);
                        addLogEntry('Erro ao copiar c√≥digo', 'error');
                    });
                };
            }
        }
        
        // Copia c√≥digo para clipboard
        function copyCodeToClipboard(suggestionId) {
            const previews = {
                'perf-opt-001': `# C√≥digo da Otimiza√ß√£o de Cache
class IntelligentCacheManager:
    def __init__(self):
        self.prediction_model = AccessPredictor()
        self.usage_patterns = {}
    
    def smart_cache(self, key, data):
        score = self.prediction_model.predict(key)
        if score > 0.7:
            self.cache.set(key, data, ttl=3600)
        else:
            self.cache.set(key, data, ttl=300)`,
                'bug-fix-002': `# Corre√ß√£o do Vazamento de Mem√≥ria
import gc
import weakref
from threading import Timer

class MonitoringModule:
    def __init__(self):
        self.active_references = weakref.WeakSet()
        self.cleanup_timer = Timer(300, self.cleanup)
    
    def cleanup(self):
        gc.collect()
        self.active_references.clear()`
            };
            
            const code = previews[suggestionId] || '// C√≥digo n√£o dispon√≠vel';
            navigator.clipboard.writeText(code).then(() => {
                addLogEntry('C√≥digo copiado para a √°rea de transfer√™ncia', 'info');
            });
        }
        
        // Rejeita uma sugest√£o
        function rejectSuggestion(suggestionId) {
            const suggestionCard = document.querySelector(`[data-suggestion-id="${suggestionId}"]`);
            if (!suggestionCard) return;
            
            if (confirm('Tem certeza que deseja rejeitar esta sugest√£o?')) {
                suggestionCard.classList.add('rejected');
                
                const rejectBtn = suggestionCard.querySelector('.suggestion-btn.reject');
                if (rejectBtn) {
                    rejectBtn.textContent = '‚ùå Rejeitada';
                    rejectBtn.disabled = true;
                    rejectBtn.style.opacity = '0.7';
                }
                
                addLogEntry('Sugest√£o rejeitada pelo usu√°rio', 'warning');
                updateApprovalStats();
                
                // Remove ap√≥s 2 segundos
                setTimeout(() => {
                    suggestionCard.style.transition = 'all 0.5s ease';
                    suggestionCard.style.opacity = '0';
                    setTimeout(() => suggestionCard.remove(), 500);
                }, 2000);
            }
        }
        
        // Agenda uma sugest√£o para depois
        function scheduleSuggestion(suggestionId) {
            const scheduleTime = prompt('Agendar para quando? (ex: 1 hora, 1 dia)', '2 horas');
            if (scheduleTime) {
                addLogEntry(`Sugest√£o ${suggestionId} agendada para: ${scheduleTime}`, 'info');
                
                const suggestionCard = document.querySelector(`[data-suggestion-id="${suggestionId}"]`);
                if (suggestionCard) {
                    const header = suggestionCard.querySelector('.suggestion-header');
                    const scheduledBadge = document.createElement('div');
                    scheduledBadge.style.cssText = `
                        background: #FF9800;
                        color: white;
                        padding: 5px 10px;
                        border-radius: 15px;
                        font-size: 0.8em;
                        margin-left: 10px;
                    `;
                    scheduledBadge.textContent = `üìÖ ${scheduleTime}`;
                    header.appendChild(scheduledBadge);
                    
                    suggestionCard.style.opacity = '0.7';
                }
            }
        }
        
        // Adia uma sugest√£o
        function postponeSuggestion(suggestionId) {
            addLogEntry(`Sugest√£o ${suggestionId} adiada`, 'info');
            
            const suggestionCard = document.querySelector(`[data-suggestion-id="${suggestionId}"]`);
            if (suggestionCard) {
                suggestionCard.style.transition = 'all 0.5s ease';
                suggestionCard.style.opacity = '0.5';
                suggestionCard.style.transform = 'scale(0.95)';
            }
        }
        
        // Escala uma sugest√£o cr√≠tica
        function escalateSuggestion(suggestionId) {
            addLogEntry(`Escalando sugest√£o cr√≠tica ${suggestionId} para administrador...`, 'warning');
            
            const suggestionCard = document.querySelector(`[data-suggestion-id="${suggestionId}"]`);
            if (suggestionCard) {
                const header = suggestionCard.querySelector('.suggestion-header');
                const escalatedBadge = document.createElement('div');
                escalatedBadge.style.cssText = `
                    background: #F44336;
                    color: white;
                    padding: 5px 10px;
                    border-radius: 15px;
                    font-size: 0.8em;
                    margin-left: 10px;
                    animation: pulse 1.5s infinite;
                `;
                escalatedBadge.textContent = 'üö® Escalado';
                header.appendChild(escalatedBadge);
                
                suggestionCard.style.borderColor = '#F44336';
            }
            
            // Simula notifica√ß√£o para administrador
            setTimeout(() => {
                addLogEntry('Notifica√ß√£o enviada para o administrador do sistema', 'info');
            }, 2000);
        }
        
        // Atualiza estat√≠sticas de aprova√ß√£o
        function updateApprovalStats() {
            const appliedCards = document.querySelectorAll('.suggestion-card.applied').length;
            const rejectedCards = document.querySelectorAll('.suggestion-card.rejected').length;
            const totalCards = document.querySelectorAll('.suggestion-card').length;
            const pendingCards = totalCards - appliedCards - rejectedCards;
            
            document.getElementById('pending-approvals').textContent = pendingCards;
            document.getElementById('applied-today').textContent = appliedCards + 7; // Soma com aplica√ß√µes anteriores
            
            const acceptanceRate = totalCards > 0 ? Math.round((appliedCards / (appliedCards + rejectedCards)) * 100) : 89;
            document.getElementById('acceptance-rate').textContent = acceptanceRate + '%';
            
            // Calcula economia estimada
            const savings = (appliedCards * 0.3) + 2.3; // 0.3h por melhoria aplicada
            document.getElementById('estimated-savings').textContent = savings.toFixed(1) + 'h/dia';
        }
        
        // Visualiza hist√≥rico de aprova√ß√µes
        function viewApprovalHistory() {
            addLogEntry('Carregando hist√≥rico de aprova√ß√µes...', 'info');
            
            const historyData = [
                { time: '10:30', action: 'Otimiza√ß√£o de Cache aplicada', type: 'success' },
                { time: '09:15', action: 'Corre√ß√£o de bug aprovada', type: 'success' },
                { time: '08:45', action: 'Nova funcionalidade rejeitada', type: 'warning' },
                { time: '07:20', action: 'Melhoria de seguran√ßa aplicada', type: 'success' },
                { time: '06:10', action: 'Auto-backup implementado', type: 'success' },
                { time: '05:30', action: '2FA habilitado', type: 'success' }
            ];
            
            let historyHtml = '<div style="color: white;"><h3>üìã Hist√≥rico de Aprova√ß√µes (Hoje)</h3><br>';
            historyData.forEach(item => {
                const color = item.type === 'success' ? '#4CAF50' : '#FF9800';
                const icon = item.type === 'success' ? '‚úÖ' : '‚ö†Ô∏è';
                historyHtml += `
                    <div style="
                        padding: 10px;
                        margin: 5px 0;
                        background: rgba(0,0,0,0.2);
                        border-radius: 8px;
                        border-left: 3px solid ${color};
                    ">
                        ${icon} <strong>${item.time}</strong> - ${item.action}
                    </div>
                `;
            });
            historyHtml += '</div>';
            
            showCodePreviewModal(historyHtml, 'Registro de todas as aprova√ß√µes e rejei√ß√µes do dia', 'Hist√≥rico de Aprova√ß√µes');
        }
        
        // Configura settings de aprova√ß√£o
        function configureApprovalSettings() {
            addLogEntry('Abrindo configura√ß√µes de aprova√ß√£o...', 'info');
            
            const settingsHtml = `
                <div style="color: white;">
                    <h4>‚öôÔ∏è Configura√ß√µes de Aprova√ß√£o</h4>
                    <div style="margin: 20px 0;">
                        <label style="display: block; margin: 10px 0;">
                            <input type="checkbox" checked> Aprova√ß√£o autom√°tica para otimiza√ß√µes de baixo risco
                        </label>
                        <label style="display: block; margin: 10px 0;">
                            <input type="checkbox" checked> Notificar via email para sugest√µes cr√≠ticas
                        </label>
                        <label style="display: block; margin: 10px 0;">
                            <input type="checkbox"> Aplicar melhorias de seguran√ßa automaticamente
                        </label>
                        <label style="display: block; margin: 10px 0;">
                            <input type="checkbox" checked> Mostrar preview de c√≥digo antes da aplica√ß√£o
                        </label>
                    </div>
                    <div style="margin: 20px 0;">
                        <label style="display: block; margin: 10px 0;">
                            Limite de melhorias por dia: 
                            <input type="number" value="10" style="width: 60px; margin-left: 10px; color: black;">
                        </label>
                        <label style="display: block; margin: 10px 0;">
                            Hor√°rio de aplica√ß√£o: 
                            <select style="margin-left: 10px; color: black;">
                                <option>Qualquer hor√°rio</option>
                                <option>Apenas hor√°rio comercial</option>
                                <option>Apenas madrugada</option>
                            </select>
                        </label>
                    </div>
                </div>
            `;
            
            showCodePreviewModal(settingsHtml, 'Configure como o sistema deve lidar com aprova√ß√µes autom√°ticas', 'Configura√ß√µes de Aprova√ß√£o');
        }
        
        // Atualiza dados espec√≠ficos do m√≥dulo de aprova√ß√µes
        function updateApprovalsData() {
            // Carrega sugest√µes da API automaticamente
            refreshSuggestions();
            
            // Simula verifica√ß√£o de novas sugest√µes
            setTimeout(() => {
                const cards = document.querySelectorAll('.suggestion-card');
                if (cards.length > 0 && Math.random() > 0.7) {
                    // 30% de chance de ter uma nova sugest√£o
                    const randomCard = cards[Math.floor(Math.random() * cards.length)];
                    if (!randomCard.classList.contains('applied') && !randomCard.classList.contains('rejected')) {
                        randomCard.classList.add('new');
                        addLogEntry('Nova sugest√£o de melhoria identificada!', 'info');
                    }
                }
            }, 2000);
        }
        
        // Simula novas sugest√µes baseadas na an√°lise do sistema
        function simulateNewSuggestions() {
            // Adiciona indicador "novo" a uma sugest√£o aleat√≥ria
            const suggestionCards = document.querySelectorAll('.suggestion-card');
            suggestionCards.forEach(card => card.classList.remove('new'));
            
            if (suggestionCards.length > 0) {
                const randomIndex = Math.floor(Math.random() * suggestionCards.length);
                suggestionCards[randomIndex].classList.add('new');
            }
            
            // Atualiza estat√≠sticas
            updateApprovalStats();
        }
        
        // Aplica uma sugest√£o de melhoria
        async function applySuggestion(suggestionId) {
            const suggestionCard = document.querySelector(`[data-suggestion-id="${suggestionId}"]`);
            if (!suggestionCard) return;
            
            // Marca como aplicando
            suggestionCard.classList.add('applying');
            
            const suggestionType = suggestionCard.querySelector('.suggestion-type').textContent;
            addLogEntry(`Aplicando melhoria: ${suggestionType}...`, 'info');
            
            try {
                // Envia requisi√ß√£o para aplicar melhoria via API
                const response = await fetch('http://localhost:8000/api/evolution/apply', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ 
                        suggestion_id: suggestionId,
                        approved: true,
                        approver: 'user_interface'
                    })
                });
                
                const result = await response.json();
                
                if (result.success) {
                    // Simula tempo de aplica√ß√£o
                    await new Promise(resolve => setTimeout(resolve, (result.execution_time || 2) * 1000));
                    
                    // Marca como aplicada
                    suggestionCard.classList.remove('applying');
                    suggestionCard.classList.add('applied');
                    
                    // Atualiza texto dos bot√µes
                    const applyBtn = suggestionCard.querySelector('.suggestion-btn.apply');
                    if (applyBtn) {
                        applyBtn.textContent = '‚úÖ Aplicada';
                        applyBtn.disabled = true;
                        applyBtn.style.opacity = '0.7';
                    }
                    
                    addLogEntry(`‚úÖ ${result.message}`, 'info');
                    
                    // Atualiza estat√≠sticas via API
                    await updateStatsFromAPI();
                    
                    // Remove sugest√£o da tela ap√≥s 3 segundos
                    setTimeout(() => {
                        suggestionCard.style.transition = 'all 0.5s ease';
                        suggestionCard.style.opacity = '0';
                        suggestionCard.style.transform = 'translateX(100%)';
                        setTimeout(() => suggestionCard.remove(), 500);
                    }, 3000);
                } else {
                    throw new Error(result.message || 'Falha na aplica√ß√£o');
                }
                
            } catch (error) {
                console.error('Erro ao aplicar sugest√£o:', error);
                suggestionCard.classList.remove('applying');
                addLogEntry(`‚ùå Erro ao aplicar melhoria: ${error.message}`, 'error');
            }
        }
        
        // Atualiza estat√≠sticas via API
        async function updateStatsFromAPI() {
            try {
                const response = await fetch('http://localhost:8000/api/evolution/stats');
                const stats = await response.json();
                updateApprovalStatsFromAPI(stats);
            } catch (error) {
                console.error('Erro ao atualizar estat√≠sticas:', error);
            }
        }
    </script>
</body>
</html> 